# C# / .NET Plugin

The csharp plugin provides versionator support for C#/.NET projects.

## Overview

.NET projects use `.csproj` files for project configuration including version:

```xml
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <Version>1.2.3</Version>
  </PropertyGroup>
</Project>
```

## Injection Methods

| Method | Description |
|--------|-------------|
| `emit` | Generate `Version.cs` with version constants |
| `link` | Generate MSBuild properties for build-time injection |
| `patch` | Update `<Version>` element in `.csproj` |

### Emit

Generate a C# source file with version constants:

```bash
versionator emit csharp
# Creates Version.cs
```

Generated file:

```csharp
// Auto-generated by versionator. Do not edit.
namespace Version
{
    public static class VersionInfo
    {
        public const string Version = "1.2.3";
        public const int Major = 1;
        public const int Minor = 2;
        public const int Patch = 3;
        public const string GitHash = "abc1234";
    }
}
```

Usage:

```csharp
Console.WriteLine($"Version: {Version.VersionInfo.Version}");
```

### Link (MSBuild Properties)

Inject version at build time:

```bash
# Get MSBuild properties
versionator emit build csharp
# Output: /p:Version=1.2.3

# Use with dotnet build
dotnet build $(versionator emit build csharp)
```

Access in code via assembly attributes:

```csharp
var version = Assembly.GetExecutingAssembly().GetName().Version;
```

### Patch

Update the version directly in `.csproj`:

```bash
versionator patch csharp --file MyProject.csproj
```

## Build System Integration

### MSBuild / dotnet CLI

```bash
dotnet build /p:Version=$(versionator version)
```

### CI/CD (GitHub Actions)

```yaml
- name: Build with version
  run: dotnet build /p:Version=$(versionator version)
```

## Configuration

Default output path: `Version.cs`
Default namespace: `Version`

Override with:

```bash
versionator emit csharp --output Properties/Version.cs --package MyApp
```

## See Also

- [java-maven](../java-maven/) - Java/Maven projects
- [java-gradle](../java-gradle/) - Java/Gradle projects
