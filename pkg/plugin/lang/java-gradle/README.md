#re t Java Gradle Plugin

The java-gradle plugin provides versionator support for Gradle-based Java projects.

## Overview

Gradle projects use `build.gradle` (Groovy DSL) or `build.gradle.kts` (Kotlin DSL) for configuration:

**Groovy DSL:**
```groovy
version = '1.2.3'
```

**Kotlin DSL:**
```kotlin
version = "1.2.3"
```

## Injection Methods

| Method | Description |
|--------|-------------|
| `emit` | Generate `Version.java` with version constants |
| `patch` | Update `version` in `build.gradle` or `build.gradle.kts` |

### Emit

Generate a Java source file with version constants:

```bash
versionator emit java-gradle
# Creates src/main/java/version/Version.java
```

Generated file:

```java
// Auto-generated by versionator. Do not edit.
package version;

public final class Version {
    public static final String VERSION = "1.2.3";
    public static final int MAJOR = 1;
    public static final int MINOR = 2;
    public static final int PATCH = 3;
    public static final String GIT_HASH = "abc1234";

    private Version() {}
}
```

Usage:

```java
System.out.println("Version: " + Version.VERSION);
```

### Patch

Update the version directly in build files:

```bash
# Groovy DSL
versionator patch java-gradle --file build.gradle

# Kotlin DSL
versionator patch java-gradle --file build.gradle.kts
```

## Build System Integration

### Gradle Task

Add to `build.gradle`:

```groovy
task updateVersion {
    doLast {
        def result = 'versionator version'.execute().text.trim()
        version = result
    }
}
```

### CI/CD (GitHub Actions)

```yaml
- name: Update version
  run: versionator patch java-gradle

- name: Build
  run: ./gradlew build
```

## Configuration

Default output path: `src/main/java/version/Version.java`
Default package: `version`

Override with:

```bash
versionator emit java-gradle --output src/main/java/com/example/Version.java --package com.example
```

## See Also

- [java-maven](../java-maven/) - Maven-based Java projects
- [kotlin](../kotlin/) - Kotlin projects
